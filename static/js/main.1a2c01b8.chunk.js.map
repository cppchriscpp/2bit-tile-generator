{"version":3,"sources":["tile-constants.js","services/image-generator.js","components/palette-preview.js","App.js","reportWebVitals.js","index.js"],"names":["AVAILABLE_TILE_TYPES","TILE_BACKGROUND_COLORS","grass","water","lava","rock","brick","hole","plant","block","TILE_NAMES","TILE_OPTIONS","name","min","max","type","disabled","defaultValue","step","modulus","a","b","getRandomImageCoords","image","x","Math","floor","random","bitmap","width","y","height","ImageGenerator","tileType","tileOpt","palette","Promise","resolve","reject","Jimp","err","drawGrass","drawWater","drawBrick","drawBlock","drawHole","drawPlant","drawRock","console","warn","getBase64Async","then","i","setPixelColor","originX","originY","depthR","scan","idx","dx","dy","xDiff","yDiff","row1Lines","row2Lines","push","rowNum","indexOf","tileSize","h","borderWidth","fuzzWidth","angle","x1","y1","r","cos","PI","sin","round","imgY","hitLeft","hitMid","hitRight","colorCount","imgX","getPixelColor","shadowX","freckleCount","fx","fy","forEach","coords","fxx","fyy","PalettePreview","className","style","backgroundColor","this","props","React","Component","App","state","tileProps","imageWidth","imageHeight","currentTileImg","t","opt","undefined","val","reloadImage","newState","setState","map","setting","label","value","onSlChange","e","updateTileState","target","n","checked","toString","padStart","error","generateImage","getCurrentTileImage","event","typeName","content","onClick","reRandomize","alt","src","Array","keys","href","download","updateTileType","getTileOptions","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.1a2c01b8.chunk.js","sourcesContent":["export const AVAILABLE_TILE_TYPES = [\n    'block',\n    'brick', \n    'plant', // Aka \"bush\"\n    'grass', \n    'hole',\n    'water', \n    // Unimplemented tile types (so far!) \n    // 'lava', \n    'rock', \n    // 'sand'\n  ];\n\n  export const DEFAULT_TILE_TYPE = 'block';\n\n  export const TILE_BACKGROUND_COLORS = {\n    grass: 3,\n    water: 2,\n    lava: 3,\n    rock: 3, \n    brick: 2,\n    hole: 0,\n    plant: 3,\n    block: 3\n  };\n  \n  export const TILE_NAMES = {\n    grass: 'Grass',\n    water: 'Water',\n    lava: 'Lava',\n    block: 'Block / Tile',\n    brick: 'Brick Wall',\n    rock: 'Rock',\n    hole: 'Hole / Gap',\n    plant: 'Bush',\n  }\n  \n  export const TILE_OPTIONS = {\n    grass: [\n      {name: 'Short Blades', min: 0, max: 10, type: 'range'},\n      {name: 'Tall Blades', min: 0, max: 10, type: 'range'},\n      {name: 'Triangles', min: 0, max: 8, type: 'range'}\n    ],\n    water: [\n      {name: 'Lines', min: 2, max: 4, type: 'range'},\n      // Couldn't quite get what I wanted out of this - the areas kind of need to be relative to the lines, and \n      // that's a bit more complex than I'd hoped.\n      {name: 'Deeper Areas', min: 0, max: 3, type: 'range', disabled: true, defaultValue: 0}\n    ],\n    lava: [],\n    rock: [\n      {name: 'Rock Size', min: 3, max: 7, type: 'range'},\n      {name: 'Rock Color', type: 'palette', defaultValue: 2},\n      {name: 'Rock Highlight Color', type: 'palette', defaultValue: 3}\n    ],\n    brick: [\n      {name: 'Brick Width', min: 5, max: 12, type: 'range'},\n      {name: 'Brick Height', min: 2, max: 12, type: 'range'},\n      {name: 'Brick Color', type: 'palette', defaultValue: 2}\n    ],\n    block: [\n      {name: 'Height', min: 2, max: 8, type: 'range'}\n    ],\n    hole: [\n      {name: 'Hole Size', min: 6, max: 14, type: 'range', step: 2},\n      {name: 'Fuzz Area', min: 1, max: 2, type: 'range', defaultValue: 1}\n    ],\n    plant: [\n      {name: 'Bush Size', min: 3, max: 6, type: 'range'},\n      {name: 'Bush Color', type: 'palette', defaultValue: 2},\n      {name: 'Freckle Color', type: 'palette', defaultValue: 1},\n      {name: 'Freckle Count', min: 2, max: 8, type: 'range'},\n      {name: 'Freckle Size', min: 1, max: 2, type: 'range', defaultValue: 1}\n    ]\n  }\n  ","import Jimp from 'jimp/es';\n\nimport { TILE_BACKGROUND_COLORS } from '../tile-constants';\n\n// Because js treats % as a remainder instead of modulus... because, sigh, programming languages were a mistake.\nfunction modulus(a, b) {\n  return ((a % b ) + b) % b;\n}\n\n// Helper to find a random position within the image\nfunction getRandomImageCoords(image) {\n  let x = Math.floor(Math.random() * image.bitmap.width);\n  let y = Math.floor(Math.random() * image.bitmap.height);\n\n  return {x, y};\n}\n\n\n/**\n * Image generation logic. Used to generate all of the various images using Jimp.\n * Define available image types in the constants in ../tile-constants\n * \n * Jimp doesn't have any primitive drawing ability, and I can't find a library to do it. Maybe I'll make one by myself, but until\n * such a time, things are done manually here. (and very, very clumsily)\n */\nexport default class ImageGenerator {\n  // Really just a home for static methods for now. Don't even construct it.\n\n  static generateImage(tileType, tileOpt, palette) {\n    // Jimp isn't super promise friendly - technically it works but it's pretty sketchy at times. Wrap this instead.\n    return new Promise((resolve, reject) =>{\n      new Jimp(16, 16, palette[TILE_BACKGROUND_COLORS[tileType]], (err, image) =>{\n        if (err) { reject(err); }\n\n        // Big, kind of ugly switch statement for each of our available tile types, determining how to draw each one.\n        switch (tileType) {\n          case 'grass': \n            ImageGenerator.drawGrass(image, tileOpt, palette);\n            break;\n          case 'water':\n            ImageGenerator.drawWater(image, tileOpt, palette);\n            break;\n          case 'brick':\n            ImageGenerator.drawBrick(image, tileOpt, palette);\n            break;\n          case 'block':\n            ImageGenerator.drawBlock(image, tileOpt, palette);\n            break;\n          case 'hole':\n            ImageGenerator.drawHole(image, tileOpt, palette);\n            break;\n          case 'plant':\n            ImageGenerator.drawPlant(image, tileOpt, palette);\n            break;\n          case 'rock':\n            ImageGenerator.drawRock(image, tileOpt, palette);\n          default: \n            console.warn('Unimplemented tile type given!', tileType, 'blank image ahoy');\n        }\n\n        image.getBase64Async('image/png').then(resolve, reject);\n      });\n\n\n    });\n  }\n\n  static drawGrass(image, tileOpt, palette) {\n    for (let i = 0; i < tileOpt['Short Blades']; i++) {\n      const {x, y} = getRandomImageCoords(image);\n      image.setPixelColor(palette[2], x, y);\n    }\n    for (let i = 0; i < tileOpt['Tall Blades']; i++) {\n      const {x, y} = getRandomImageCoords(image);\n      image.setPixelColor(palette[2], x, y);\n      image.setPixelColor(palette[2], x, y === 0 ? (image.bitmap.height - 1) : y-1);\n    }\n\n    for (let i = 0; i < tileOpt['Triangles']; i++) {\n      const {x, y} = getRandomImageCoords(image);\n\n      image.setPixelColor(palette[2], x > 0 ? x-1 : (image.bitmap.width - 1), y);\n      image.setPixelColor(palette[2], x < (image.bitmap.width - 1) ? x+1 : 0, y);\n      image.setPixelColor(palette[2], x, y > 0 ? y-1 : (image.bitmap.height - 1));\n    }\n  }\n\n  static drawWater(image, tileOpt, palette) {\n    for (let i = 0; i < tileOpt['Deeper Areas']; i++) {\n      const {x: originX, y: originY} = getRandomImageCoords(image);\n      const depthR = Math.floor(Math.random() * 4) + 3;\n\n      image.scan(0, 0, image.bitmap.width, image.bitmap.height, (x, y, idx) => {\n        const dx = originX - x;\n        const dy = originY - y;\n        if (dx*dx + dy*dy <= (depthR*depthR)) {\n          image.setPixelColor(palette[1], x, y);\n        }\n      });\n    }\n    for (let i = 0; i < tileOpt['Lines']; i++) {\n      const {x: originX, y: originY} = getRandomImageCoords(image);\n      const xDiff = Math.floor(Math.random() * 2) === 1 ? 1 : -1;\n      const yDiff = Math.floor(Math.random() * 2) === 1 ? 1 : -1;\n      let x = originX, y = originY;\n      image.setPixelColor(palette[3], x, y);\n      x = modulus(x + xDiff, image.bitmap.width);\n      y = modulus(y + yDiff, image.bitmap.height);\n      while (x !== originX && y !== originY) {\n        image.setPixelColor(palette[3], x, y);\n        if (Math.random() > 0.3) {\n          x = modulus(x + xDiff, image.bitmap.width);\n        }\n        if (Math.random() > 0.3) {\n          y = modulus(y + yDiff, image.bitmap.height);\n        }\n\n      }\n      image.setPixelColor(palette[3], x, y);\n    }\n\n  }\n\n  static drawBrick(image, tileOpt, palette) {\n    const row1Lines = [];\n    const row2Lines = [];\n    for (var i = 0; i < image.bitmap.width; i++) {\n      if (modulus(i+1, tileOpt['Brick Width'] + 1) === 0) {\n        row1Lines.push(i);\n      } else if (modulus(i + 1 + Math.floor(tileOpt['Brick Width'] / 2), tileOpt['Brick Width'] + 1) === 0) {\n        row2Lines.push(i);\n      }\n    }\n\n    // Fill with bg color to start\n    let rowNum = 0;\n    image.scan(0, 0, image.bitmap.width, image.bitmap.height, (x, y, idx) => {\n      image.setPixelColor(palette[tileOpt['Brick Color']], x, y);\n\n      if (y % (tileOpt['Brick Height'] + 1) === 0) {\n        image.setPixelColor(palette[0], x, y);\n        if (x === 0) { ++rowNum; }\n      }\n\n      if (rowNum % 2 === 0) {\n        if (row1Lines.indexOf(x) !== -1) {\n          image.setPixelColor(palette[0], x, y);\n        }\n      } else {\n        if (row2Lines.indexOf(x) !== -1) {\n          image.setPixelColor(palette[0], x, y);\n        }\n      }\n    });\n\n  }\n\n  static drawBlock(image, tileOpt, palette) {\n    image.scan(0, 0, image.bitmap.width, image.bitmap.height, (x, y) => {\n      const tileSize = (10 - tileOpt['Height']) * 2;\n\n      image.setPixelColor(x > (image.bitmap.height - y - 1) ? palette[1] : palette[3], x, y);\n\n      \n      if (x === y) {\n        image.setPixelColor(palette[2], x, y);\n      } else if (x === (image.bitmap.height - y - 1)) {\n        image.setPixelColor(palette[1], x, y);\n      }\n      const h = ((image.bitmap.height / 2) - (tileSize / 2));\n      \n      if (x > h && x < (h + tileSize - 1)) {\n        if (y > h && y < (h + tileSize - 1)) {\n          image.setPixelColor(palette[2], x, y);\n        }\n      }\n    });\n  }\n\n  static drawHole(image, tileOpt, palette) {\n    const borderWidth = Math.floor((image.bitmap.width / 2) - (tileOpt['Hole Size'] / 2));\n    const fuzzWidth = tileOpt['Fuzz Area'];\n\n    image.scan(0, 0, image.bitmap.width, image.bitmap.height, (x, y) => {\n      if (\n        (x < borderWidth || x > (image.bitmap.width - 1 - borderWidth)) ||\n        (y < borderWidth || y > (image.bitmap.height - 1 - borderWidth))\n      ) {\n        \n        if (\n          (x >= (borderWidth - fuzzWidth) && x < borderWidth && (y > borderWidth && y < (image.bitmap.height - 1 - borderWidth))) ||\n          (x >= (borderWidth + tileOpt['Hole Size']) && x < (borderWidth + tileOpt['Hole Size'] + fuzzWidth) && (y > borderWidth && y < (image.bitmap.height -1 - borderWidth))) ||\n          \n          (y >= (borderWidth - fuzzWidth) && y < borderWidth && (x > borderWidth && x < (image.bitmap.width - 1 - borderWidth))) ||\n          (y >= (borderWidth + tileOpt['Hole Size']) && y < (borderWidth + tileOpt['Hole Size'] + fuzzWidth) && (x > borderWidth && x < (image.bitmap.width -1 - borderWidth)))\n        ) {\n          // Bail some of the time to make it \"fuzzy\"\n          if (Math.random() > 0.35) { return; }\n        }\n        image.setPixelColor(palette[2], x, y);\n      }\n    });\n\n  }\n\n  // NOTE: I really don't like the results of this, it needs a rewrite. Maybe someone can use it, but it feels lackluster at best. \n  // I'm not sure what else I can really do procedurally, or even non-procedurally. PRs welcome, with either code or even a 16x16 image\n  // and some notes on how we could tweak it. \n  static drawPlant(image, tileOpt, palette) {\n\n    // Draw that circle\n    const r = tileOpt['Bush Size'];\n    const x = 8, y = 10 - Math.floor(tileOpt['Bush Size'] / 2);\n    \n    let angle, x1, y1;\n    for (var i = 0; i < 360; i++) {\n      angle = i;\n      x1 = r * Math.cos(angle * Math.PI / 180);\n      y1 = r * Math.sin(angle * Math.PI / 180);\n\n      image.setPixelColor(palette[0], Math.round(x + x1), Math.round(y + y1));\n    }\n\n    // terribly simple color filling algorithm\n    for (var imgY = 0; imgY < image.bitmap.height; imgY++) {\n      let hitLeft = false, hitMid = false, hitRight = false, colorCount = 0;\n      for (var imgX = 0; imgX < image.bitmap.width; imgX++) {\n        if (image.getPixelColor(imgX, imgY) === palette[0]) {\n          colorCount++;\n          if (!hitLeft) {\n            hitLeft = true;\n          } else if (hitMid) {\n            hitRight = true;\n          }\n        } else {\n          if (hitLeft && image.getPixelColor(imgX, imgY) === palette[3]) {\n            hitMid = true;\n          }\n          if (hitMid && !hitRight && colorCount < 5) { // Must be on the inside of the circle\n            image.setPixelColor(palette[tileOpt['Bush Color']], imgX, imgY);\n          }\n        }\n      }\n    }\n\n    // Draw small shadow\n    for (let shadowX = x - Math.floor(r/2)+1; shadowX < x + r+1; shadowX++) {\n      image.setPixelColor(palette[0], shadowX, y + r + 1);\n      if (shadowX < x + r) {\n        image.setPixelColor(palette[0], shadowX, y + r);\n      }\n    }\n\n    // Pick a few random spots to draw berries/freckles/whatever\n    let freckleCount = 0;\n    for (var i = 0; i < 100; i++) { // Limit # of tries to make, just in case \n      if (freckleCount >= tileOpt['Freckle Count']) {\n        break;\n      }\n\n      const fx = Math.floor(Math.random() * (image.bitmap.width)),\n        fy = Math.floor(Math.random() * image.bitmap.height);\n\n      if (image.getPixelColor(fx,fy) === palette[tileOpt['Bush Color']]) {\n        freckleCount++;\n        image.setPixelColor(palette[tileOpt['Freckle Color']], fx, fy);\n\n        if (tileOpt['Freckle Size'] > 1) {\n          [[fx-1, fy], [fx+1,fy], [fx, fy-1], [fx, fy+1]].forEach(coords => {\n            const fxx = coords[0], fyy = coords[1];\n            if (image.getPixelColor(fxx, fyy) === palette[tileOpt['Bush Color']]) {\n              image.setPixelColor(palette[tileOpt['Freckle Color']], fxx, fyy);\n            }\n          });\n        }\n      }\n    }\n  }\n\n  static drawRock(image, tileOpt, palette) {\n\n    const r = tileOpt['Rock Size'];\n    const x = 8, y = image.bitmap.height - (tileOpt['Rock Size'] - 2);\n    let angle, x1, y1;\n    for (var i = 0; i < 360; i++) {\n      angle = i;\n      x1 = r * Math.cos(angle * Math.PI / 180);\n      y1 = r * Math.sin(angle * Math.PI / 180);\n\n      image.setPixelColor(palette[0], Math.round(x + x1), Math.round(y + y1));\n    }\n\n    // terribly simple color filling algorithm\n    for (var imgY = 0; imgY < image.bitmap.height; imgY++) {\n      let hitLeft = false, hitMid = false, hitRight = false, colorCount = 0;\n      for (var imgX = 0; imgX < image.bitmap.width; imgX++) {\n        if (image.getPixelColor(imgX, imgY) === palette[0]) {\n          colorCount++;\n          if (!hitLeft) {\n            hitLeft = true;\n          } else if (hitMid) {\n            hitRight = true;\n          }\n        } else {\n          if (hitLeft && image.getPixelColor(imgX, imgY) === palette[3]) {\n            hitMid = true;\n          }\n          if (hitMid && !hitRight && colorCount < 5) { // Must be on the inside of the circle\n            if ((imgX - imgY) < r - Math.floor(r/1.2)) {\n              image.setPixelColor(palette[tileOpt['Rock Color']], imgX, imgY);\n            } else {\n              image.setPixelColor(palette[tileOpt['Rock Highlight Color']], imgX, imgY);\n            }\n          }\n        }\n      }\n    }\n  }\n\n}","import React from 'react';\nimport './palette-preview.css';\n\nexport default class PalettePreview extends React.Component {\n\n  render() {\n    return <div className=\"palette-preview\" style={{backgroundColor: '#' + this.props.palette}}></div>;\n  }\n}","import React from 'react';\n\n// Shoelace components\nimport '@shoelace-style/shoelace/dist/themes/base.css';\nimport SlButton from '@shoelace-style/react/dist/button';\nimport SlSelect from '@shoelace-style/react/dist/select';\nimport SlMenuItem from '@shoelace-style/react/dist/menu-item';\nimport SlRange from '@shoelace-style/react/dist/range';\nimport SlTooltip from '@shoelace-style/react/dist/tooltip';\nimport SlRadio from '@shoelace-style/react/dist/radio';\nimport SlRadioGroup from '@shoelace-style/react/dist/radio-group';\n\n// Services\nimport ImageGenerator from './services/image-generator';\n\n// Custom components\nimport PalettePreview from './components/palette-preview';\n\n// Constants\nimport { TILE_NAMES, TILE_OPTIONS, AVAILABLE_TILE_TYPES, DEFAULT_TILE_TYPE } from './tile-constants';\n\n/**\n * ADVANCED THINGS TO PLAY WITH\n * Weighted random, to make tiles look nicer: https://redstapler.co/javascript-weighted-random/ -- option 2 looks nice\n * For grass it'd be nice to limit to fewer lines and blades, and more triangles, for example\n * \n * \n * GENERAL TODO:\n * - Implement more tiles\n * - Add more palettes (steal from the sprite generator? Try defaults built into nesst? Other?)\n * - Allow palette swapping?\n * - Pretty the codebase up so an employer wouldn't look at this and decide I have no idea what I'm doing (⩾﹏⩽)\n */\n\nimport './App.css';\n// Huge app component that could probably be broken down well if I got smart with a Store for state\nclass App extends React.Component {\n\n  // Initializer, mostly sets up initial state of the application\n  constructor(props) {\n    super(props);\n    this.state = {\n      tileType: DEFAULT_TILE_TYPE,\n      tileProps: {},\n      palette: [0x000000ff, 0x444444ff, 0xaaaaaaff, 0xffffffff],\n      imageWidth: 16,\n      imageHeight: 16,\n      // Transparent 1px gif so we don't show a broken image\n      currentTileImg: 'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7'\n    }\n\n    // NOTE: This logic is almost-duplicated in the reRandomize method\n    AVAILABLE_TILE_TYPES.forEach(t => {\n      // Seriously, it's a constructor. The react docs do this. Calm down.\n      // eslint-disable-next-line\n      this.state.tileProps[t] = {};\n      TILE_OPTIONS[t].forEach(opt => {\n        if (opt.defaultValue !== undefined) {\n          // eslint-disable-next-line\n          this.state.tileProps[t][opt.name] = opt.defaultValue;\n        } else if (opt.min !== undefined && opt.max !== undefined) {\n          let val = Math.floor(Math.random() * (opt.max - opt.min +1)) + opt.min;\n\n          // Enforce the step sizein randomization\n          if (opt.step) { \n            val -= (val % opt.step); \n          }\n          // es-lint-disable-next-line: Once again, see above snark\n          this.state.tileProps[t][opt.name] = val;\n        }\n      });\n    });\n  }\n\n  // Generate the image as soon as this is rendered (else we'll call setState too early)\n  componentDidMount() {\n    this.reloadImage();\n  }\n\n  // NOTE: This logic is almost-duplicated in the constructor, with defaults and without the disabled check.\n  reRandomize() {\n    let newState = {tileProps: {...this.state.tileProps}};\n    AVAILABLE_TILE_TYPES.forEach(t => {\n      newState.tileProps[t] = {...this.state.tileProps[t]};\n      TILE_OPTIONS[t].forEach(opt => {\n        if (!opt.disabled) {\n          if (opt.min !== undefined && opt.max !== undefined) {\n            let val = Math.floor(Math.random() * (opt.max - opt.min + 1)) + opt.min;\n\n            // Enforce the step sizein randomization\n            if (opt.step) { \n              val -= (val % opt.step); \n            }\n\n            newState.tileProps[t][opt.name] = val;\n          }\n        }\n      });\n    });\n    this.setState(newState, this.reloadImage);\n  };\n\n  // Kind of big method that pops out components for each of the tile options we have available.\n  // This might be a good candidate for the type of thing to break out/apart\n  getTileOptions(type) {\n    return TILE_OPTIONS[type].map(setting => {\n      if (setting.disabled) { return <span key={\"disabled-setting-\" + setting.type + setting.name}></span>; }\n      switch (setting.type) {\n        case 'range':\n          // This could probably be a component of its\n          return <div className=\"tile-option\" key={\"range-\" + setting.type + setting.name}>\n              <SlRange key={type + setting.name} \n                min={setting.min} \n                max={setting.max} \n                step={setting.step || 1} \n                label={setting.name} \n                value={this.state.tileProps[type][setting.name]} \n                onSlChange={e => this.updateTileState(type, setting.name, e.target.value)}>\n              </SlRange>\n              <div className=\"below-range\">\n                <small className=\"left\">{setting.min}</small>\n                <small className=\"mid\">Current: {this.state.tileProps[type][setting.name]}</small>\n                <small className=\"right\">{setting.max}</small>\n              </div>\n            </div>;\n        case 'palette':\n          return <div className=\"tile-option\" key={\"palette-\" + setting.type + setting.name}>\n            <SlRadioGroup label={setting.name}>\n              {[0, 1, 2, 3].map(n => {\n                return <SlRadio \n                    value={n} \n                    checked={this.state.tileProps[type][setting.name] === n ? true : false} \n                    key={\"palette-color\" + setting.type + setting.name + '-' + n} \n                    onSlChange={e => e.target.checked ? this.updateTileState(type, setting.name, n) : null}\n                  >\n                    Color {n+1} \n                    <PalettePreview palette={this.state.palette[n].toString(16).padStart(8, '0')}></PalettePreview>\n                  </SlRadio>\n              })}\n            </SlRadioGroup>\n          </div>\n        default:\n          console.error(`Unknown tile option type \"${setting.type}\" found!`, setting);\n          return <span></span>;\n      }\n    });\n  }\n\n  // Use jimp to redraw the image based on current state. This could probably live in a service that\n  // updates the store. I'd make it a component, but the image needs to remain the same in all places.\n  async getCurrentTileImage() {\n    return await ImageGenerator.generateImage(this.state.tileType, this.state.tileProps[this.state.tileType], this.state.palette);\n  }\n\n  // Rebuild the image shown on the page from available settings.\n  async reloadImage() {\n    this.setState({currentTileImg: await this.getCurrentTileImage()});\n  }\n\n  // Helper function to do exactly what it says. Regenerates the image too.\n  updateTileType(event) {\n    this.setState({tileType: event.target.value}, this.reloadImage);\n  }\n\n  // Helper to update state values from the various \"components\" (things that should be components) that we support.\n  updateTileState(typeName, name, value) {\n    // Test to make sure the value changed to avoid infinite loops from radio buttons triggering this repeatedly\n    if (this.state.tileProps[typeName][name] === value) { \n      return;\n    }\n\n    // React will stomp any nested objects when you use this, so we have to bring in the old state\n    this.setState({\n      tileProps: {\n        ...this.state.tileProps,\n        [typeName]: {\n          ...this.state.tileProps[typeName],\n          [name]: value\n        }\n      }\n    }, this.reloadImage);\n  }\n\n\n  render() {\n    return (\n      <div className=\"App\">\n        <header className=\"App-header\">\n          <h1>2Bit Tile Generator</h1>\n        </header>\n        <section>\n          <p>\n          </p>\n\n          {/* This could probably be a component */}\n          <div className=\"control-bar\">\n            <SlTooltip content=\"Randomize the settings for all tiles.\">\n              <SlButton onClick={() => this.reRandomize()}>Randomize Settings</SlButton>\n            </SlTooltip>\n            <SlTooltip content=\"Regenerate tile image with the current settings\">\n              <SlButton onClick={() => this.reloadImage()}>Regenerate</SlButton>\n            </SlTooltip>\n          </div>\n\n          <div className=\"configurator\">\n            <div className=\"left\">\n              <h3>Tile Preview</h3>\n\n              <h4>Single</h4>\n              <img className=\"tile-preview\" alt=\"Tile Preview\" src={this.state.currentTileImg}></img>\n              <h4>Tiled</h4>\n              {/* This could also probably be a component */}\n              <div className=\"tile-preview-collection\">\n                {[...Array(9).keys()].map(a => <img alt={\"tile\" + a} src={this.state.currentTileImg} key={\"preview-\" + a}></img>)}\n              </div>\n              <div className=\"dl-bar\">\n                <SlButton href={this.state.currentTileImg} download={this.state.tileType + '.png'}>Download</SlButton>\n              </div>\n            </div>\n            <div className=\"right\">\n              <h3>Tile Configuration</h3>\n              <div className = \"tile-option\">\n                <SlSelect label=\"Tile Type\" value={this.state.tileType} onSlChange={e => this.updateTileType(e)}>\n                  {AVAILABLE_TILE_TYPES.map(a => <SlMenuItem key={a} value={a}>{TILE_NAMES[a]}</SlMenuItem>)}\n                </SlSelect>\n              </div>\n\n              {this.getTileOptions(this.state.tileType)}\n            </div>\n          </div>\n        </section>\n        <footer>\n          <p>\n            All images generated by this tool are free for use. (CC0) Tool available under the MIT license. (\n            <a href=\"https://github.com/cppchriscpp/2bit-tile-generator\" target=\"_blank\">Source</a>)\n          </p>\n\n          <p>\n            Heavily inspired by <a href=\"https://0x72.itch.io/2bitcharactergenerator\" target=\"_blank\">0x72's 2BitCharactersGenerator</a>\n          </p>\n          <p>Wanna see the other stuff I do? Check out <a href=\"https://cpprograms.net\" target=\"_blank\">cpprograms.net</a>.</p>\n        </footer>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}