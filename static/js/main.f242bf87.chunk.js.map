{"version":3,"sources":["App.js","reportWebVitals.js","index.js"],"names":["AVAILABLE_TILE_TYPES","TILE_BACKGROUND_COLORS","grass","water","lava","rock","brick","hole","plant","block","TILE_NAMES","TILE_OPTIONS","name","min","max","type","disabled","defaultValue","modulus","a","b","App","props","state","tileType","tileProps","palette","imageWidth","imageHeight","currentTileImg","forEach","t","opt","undefined","Math","floor","random","this","reloadImage","newState","setState","x","y","map","setting","className","step","label","value","onSlChange","e","updateTileState","target","n","checked","style","backgroundColor","toString","padStart","console","error","Promise","resolve","reject","Jimp","err","image","tileOpt","i","getRandomImageCoords","setPixelColor","originX","originY","depthR","scan","bitmap","width","height","idx","dx","dy","xDiff","yDiff","row1Lines","row2Lines","push","rowNum","indexOf","tileSize","h","warn","getBase64Async","then","getCurrentTileImage","event","typeName","content","onClick","reRandomize","alt","src","Array","keys","href","download","updateTileType","getTileOptions","React","Component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f242bf87.chunk.js","sourcesContent":["import '@shoelace-style/shoelace/dist/themes/base.css';\n\nimport SlButton from '@shoelace-style/react/dist/button';\nimport SlSelect from '@shoelace-style/react/dist/select';\nimport SlMenuItem from '@shoelace-style/react/dist/menu-item';\nimport SlRange from '@shoelace-style/react/dist/range';\nimport SlTooltip from '@shoelace-style/react/dist/tooltip';\nimport SlRadio from '@shoelace-style/react/dist/radio';\nimport SlRadioGroup from '@shoelace-style/react/dist/radio-group';\n\nimport Jimp from 'jimp/es';\n\n/**\n * ADVANCED THINGS TO PLAY WITH\n * Weighted random, to make tiles look nicer: https://redstapler.co/javascript-weighted-random/ -- option 2 looks nice\n * For grass it'd be nice to limit to fewer lines and blades, and more triangles, for example\n * \n * \n * GENERAL TODO:\n * - Implement everything that's not grass\n * - Add more palettes (steal from the sprite generator? Try defaults built into nesst? Other?)\n * - Allow palette swapping?\n * - Pretty the codebase up so an employer wouldn't look at this and decide I have no idea what I'm doing (⩾﹏⩽)\n * \n * BUGS: \n * - Random seems to never give the max value - did I mess something up?\n */\n\nimport './App.css';\nimport React from 'react';\n\nconst AVAILABLE_TILE_TYPES = [\n  'grass', \n  'water', \n  // Unimplemented tile types (so far!) \n  // 'lava', \n  'block',\n  // 'rock', \n  'brick', \n  // 'hole',\n  // 'plant'\n];\nconst TILE_BACKGROUND_COLORS = {\n  grass: 3,\n  water: 2,\n  lava: 3,\n  rock: 3, \n  brick: 2,\n  hole: 0,\n  plant: 3,\n  block: 3\n};\n\nconst TILE_NAMES = {\n  grass: 'Grass',\n  water: 'Water',\n  lava: 'Lava',\n  block: 'Block / Tile',\n  brick: 'Brick Wall',\n  rock: 'Rock',\n  hole: 'Hole / Gap',\n  plant: 'Bush',\n}\n\nconst TILE_OPTIONS = {\n  grass: [\n    {name: 'Short Blades', min: 0, max: 10, type: 'range'},\n    {name: 'Tall Blades', min: 0, max: 10, type: 'range'},\n    {name: 'Triangles', min: 0, max: 8, type: 'range'}\n  ],\n  water: [\n    {name: 'Lines', min: 2, max: 4, type: 'range'},\n    // Couldn't quite get what I wanted out of this - the areas kind of need to be relative to the lines, and \n    // that's a bit more complex than I'd hoped.\n    {name: 'Deeper Areas', min: 0, max: 3, type: 'range', disabled: true, defaultValue: 0}\n  ],\n  lava: [],\n  rock: [],\n  brick: [\n    {name: 'Brick Width', min: 5, max: 12, type: 'range'},\n    {name: 'Brick Height', min: 2, max: 12, type: 'range'},\n    {name: 'Brick Color', type: 'palette', defaultValue: 2}\n  ],\n  block: [\n    // {name: 'Color', type: 'palette', defaultValue: 2}\n    {name: 'Height', min: 2, max: 8, type: 'range'}\n  ],\n  hole: [],\n  plant: []\n}\n\n// Because js treats % as a remainder instead of modulus... because, sigh, programming languages were a mistake.\nfunction modulus(a, b) {\n  return ((a % b ) + b) % b;\n}\n\nclass App extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      tileType: 'water',\n      tileProps: {},\n      palette: [0x000000ff, 0x444444ff, 0xaaaaaaff, 0xffffffff],\n      imageWidth: 16,\n      imageHeight: 16,\n      // Transparent 1px gif so we don't show a broken image\n      currentTileImg: 'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7'\n    }\n    AVAILABLE_TILE_TYPES.forEach(t => {\n      this.state.tileProps[t] = {};\n      TILE_OPTIONS[t].forEach(opt => {\n        if (opt.defaultValue !== undefined) {\n          this.state.tileProps[t][opt.name] = opt.defaultValue;\n        } else if (opt.min !== undefined && opt.max !== undefined) {\n          this.state.tileProps[t][opt.name] = Math.floor(Math.random() * (opt.max - opt.min)) + opt.min;\n        }\n      });\n    });\n  }\n\n  componentDidMount() {\n    this.reloadImage();\n  }\n\n  reRandomize() {\n    let newState = {tileProps: {...this.state.tileProps}};\n    AVAILABLE_TILE_TYPES.forEach(t => {\n      newState.tileProps[t] = {...this.state.tileProps[t]};\n      TILE_OPTIONS[t].forEach(opt => {\n        if (!opt.disabled) {\n          if (opt.min !== undefined && opt.max !== undefined) {\n            newState.tileProps[t][opt.name] = Math.floor(Math.random() * (opt.max - opt.min)) + opt.min;\n          }\n        }\n      });\n    });\n    this.setState(newState);\n    this.reloadImage();\n  };\n\n  getRandomImageCoords() {\n    let x = Math.floor(Math.random() * this.state.imageWidth);\n    let y = Math.floor(Math.random() * this.state.imageHeight);\n\n    return {x, y};\n  }\n\n  getTileOptions(type) {\n    return TILE_OPTIONS[type].map(setting => {\n      if (setting.disabled) { return <span key={\"disabled-setting-\" + setting.type + setting.name}></span>; }\n      switch (setting.type) {\n        case 'range':\n          // This could probably be a component of its\n          return <div className=\"tile-option\" key={\"range-\" + setting.type + setting.name}>\n              <SlRange key={type + setting.name} \n                min={setting.min} \n                max={setting.max} \n                step={setting.step || 1} \n                label={setting.name} \n                value={this.state.tileProps[type][setting.name]} \n                onSlChange={e => this.updateTileState(type, setting.name, e.target.value)}>\n              </SlRange>\n              <div className=\"below-range\">\n                <small className=\"left\">{setting.min}</small>\n                <small className=\"mid\">{this.state.tileProps[type][setting.name]}</small>\n                <small className=\"right\">{setting.max}</small>\n              </div>\n            </div>;\n        case 'palette':\n          return <div className=\"tile-option\" key={\"palette-\" + setting.type + setting.name}>\n            <SlRadioGroup label={setting.name}>\n              {[0, 1, 2, 3].map(n => {\n                return <SlRadio \n                    value={n} \n                    checked={this.state.tileProps[type][setting.name] === n ? true : false} \n                    key={\"palette-color\" + setting.type + setting.name + '-' + n} \n                    onSlChange={e => e.target.checked ? this.updateTileState(type, setting.name, n) : null}\n                  >\n                    Color {n+1} \n                    {/* This should really be a component */}\n                    <div className=\"palette-preview\" style={{backgroundColor: '#' + this.state.palette[n].toString(16).padStart(8, '0')}}></div>\n                  </SlRadio>\n              })}\n            </SlRadioGroup>\n          </div>\n        default:\n          console.error(`Unknown tile option type \"${setting.type}\" found!`, setting);\n          return <span></span>;\n      }\n    });\n  }\n\n  getCurrentTileImage() {\n    // Jimp isn't super promise friendly - technically it works but it's pretty sketchy at times. Wrap.\n    return new Promise((resolve, reject) =>{\n      new Jimp(16, 16, this.state.palette[TILE_BACKGROUND_COLORS[this.state.tileType]], (err, image) =>{\n        if (err) { reject(err); }\n\n        const tileOpt = this.state.tileProps[this.state.tileType];\n        switch (this.state.tileType) {\n          case 'grass': \n            for (let i = 0; i < tileOpt['Short Blades']; i++) {\n              const {x, y} = this.getRandomImageCoords();\n              image.setPixelColor(this.state.palette[2], x, y);\n            }\n            for (let i = 0; i < tileOpt['Tall Blades']; i++) {\n              const {x, y} = this.getRandomImageCoords();\n              image.setPixelColor(this.state.palette[2], x, y);\n              image.setPixelColor(this.state.palette[2], x, y === 0 ? (this.state.imageHeight - 1) : y-1);\n            }\n\n            for (let i = 0; i < tileOpt['Triangles']; i++) {\n              const {x, y} = this.getRandomImageCoords();\n\n              image.setPixelColor(this.state.palette[2], x > 0 ? x-1 : (this.state.imageWidth - 1), y);\n              image.setPixelColor(this.state.palette[2], x < (this.state.imageWidth - 1) ? x+1 : 0, y);\n              image.setPixelColor(this.state.palette[2], x, y > 0 ? y-1 : (this.state.imageHeight - 1));\n            }\n\n          case 'water':\n            for (let i = 0; i < tileOpt['Deeper Areas']; i++) {\n              const {x: originX, y: originY} = this.getRandomImageCoords();\n              const depthR = Math.floor(Math.random() * 4) + 3;\n\n              image.scan(0, 0, image.bitmap.width, image.bitmap.height, (x, y, idx) => {\n                const dx = originX - x;\n                const dy = originY - y;\n                if (dx*dx + dy*dy <= (depthR*depthR)) {\n                  image.setPixelColor(this.state.palette[1], x, y);\n                }\n              });\n            }\n            for (let i = 0; i < tileOpt['Lines']; i++) {\n              const {x: originX, y: originY} = this.getRandomImageCoords();\n              const xDiff = Math.floor(Math.random() * 2) === 1 ? 1 : -1;\n              const yDiff = Math.floor(Math.random() * 2) === 1 ? 1 : -1;\n              let x = originX, y = originY;\n              image.setPixelColor(this.state.palette[3], x, y);\n              x = modulus(x + xDiff, this.state.imageWidth);\n              y = modulus(y + yDiff, this.state.imageHeight);\n              while (x != originX && y != originY) {\n                image.setPixelColor(this.state.palette[3], x, y);\n                if (Math.random() > 0.3) {\n                  x = modulus(x + xDiff, this.state.imageWidth);\n                }\n                if (Math.random() > 0.3) {\n                  y = modulus(y + yDiff, this.state.imageHeight);\n                }\n\n              }\n              image.setPixelColor(this.state.palette[3], x, y);\n            }\n            break;\n          case 'brick':\n            const row1Lines = [];\n            const row2Lines = [];\n            for (var i = 0; i < image.bitmap.width; i++) {\n              if (modulus(i+1, tileOpt['Brick Width'] + 1) === 0) {\n                row1Lines.push(i);\n              } else if (modulus(i + 1 + Math.floor(tileOpt['Brick Width'] / 2), tileOpt['Brick Width'] + 1) === 0) {\n                row2Lines.push(i);\n              }\n            }\n\n            // Fill with bg color to start\n            let rowNum = 0;\n            image.scan(0, 0, image.bitmap.width, image.bitmap.height, (x, y, idx) => {\n              image.setPixelColor(this.state.palette[tileOpt['Brick Color']], x, y);\n\n              if (y % (tileOpt['Brick Height'] + 1) === 0) {\n                image.setPixelColor(this.state.palette[0], x, y);\n                if (x === 0) { ++rowNum; }\n              }\n\n              if (rowNum % 2 === 0) {\n                if (row1Lines.indexOf(x) !== -1) {\n                  image.setPixelColor(this.state.palette[0], x, y);\n                }\n              } else {\n                if (row2Lines.indexOf(x) !== -1) {\n                  image.setPixelColor(this.state.palette[0], x, y);\n                }\n              }\n            });\n            break;\n          case 'block':\n            image.scan(0, 0, image.bitmap.width, image.bitmap.height, (x, y) => {\n              const tileSize = (10 - tileOpt['Height']) * 2;\n\n              image.setPixelColor(x > (image.bitmap.height - y - 1) ? this.state.palette[1] : this.state.palette[3], x, y);\n\n              \n              if (x === y) {\n                image.setPixelColor(this.state.palette[2], x, y);\n              } else if (x == (image.bitmap.height - y - 1)) {\n                image.setPixelColor(this.state.palette[1], x, y);\n              }\n              const h = ((image.bitmap.height / 2) - (tileSize / 2));\n              \n              if (x > h && x < (h + tileSize - 1)) {\n                if (y > h && y < (h + tileSize - 1)) {\n                  image.setPixelColor(this.state.palette[2], x, y);\n                }\n              }\n            });\n            break;\n          default: \n            console.warn('Unimplemented tile type given!', this.state.tileType, 'blank image ahoy');\n        }\n\n        image.getBase64Async('image/png').then(resolve, reject);\n      });\n\n\n    });\n  }\n\n  async reloadImage() {\n    this.setState({currentTileImg: await this.getCurrentTileImage()});\n  }\n\n  updateTileType(event) {\n    this.setState({tileType: event.target.value});\n    this.reloadImage();\n  }\n\n  updateTileState(typeName, name, value) {\n    // Test to make sure the value changed to avoid infinite loops from radio buttons triggering this repeatedly\n    if (this.state.tileProps[typeName][name] === value) { \n      return;\n    }\n    this.setState({\n      tileProps: {\n        ...this.state.tileProps,\n        [typeName]: {\n          ...this.state.tileProps[typeName],\n          [name]: value\n        }\n      }\n    });\n    this.reloadImage();\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        <header className=\"App-header\">\n          <h1>2Bit Tile Generator</h1>\n        </header>\n        <section>\n          <p>\n          </p>\n\n          <div className=\"control-bar\">\n            <SlTooltip content=\"Randomize the settings for all tiles.\">\n              <SlButton onClick={() => this.reRandomize()}>Randomize Settings</SlButton>\n            </SlTooltip>\n            <SlTooltip content=\"Regenerate tile image with the current settings\">\n              <SlButton onClick={() => this.reloadImage()}>Regenerate</SlButton>\n            </SlTooltip>\n          </div>\n\n          <div className=\"configurator\">\n            <div className=\"left\">\n              <h3>Tile Preview</h3>\n\n              <h4>Single</h4>\n              {/* <div style={{width: '128px', height: '128px', border: '1px solid #000', margin: 'auto'}}></div>*/}\n              <img className=\"tile-preview\" alt=\"Tile Preview\" src={this.state.currentTileImg}></img>\n              <h4>Tiled</h4>\n              <div className=\"tile-preview-collection\">\n                {[...Array(9).keys()].map(a => <img alt={\"tile\" + a} src={this.state.currentTileImg} key={\"preview-\" + a}></img>)}\n              </div>\n              <div className=\"dl-bar\">\n                <SlButton href={this.state.currentTileImg} download={this.state.tileType + '.png'}>Download</SlButton>\n              </div>\n            </div>\n            <div className=\"right\">\n              <h3>Tile Configuration</h3>\n              <div className = \"tile-option\">\n                <SlSelect label=\"Tile Type\" value={this.state.tileType} onSlChange={e => this.updateTileType(e)}>\n                  {AVAILABLE_TILE_TYPES.map(a => <SlMenuItem key={a} value={a}>{TILE_NAMES[a]}</SlMenuItem>)}\n                </SlSelect>\n              </div>\n\n              {this.getTileOptions(this.state.tileType)}\n            </div>\n          </div>\n        </section>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}