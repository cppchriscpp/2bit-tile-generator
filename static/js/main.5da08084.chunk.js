(this["webpackJsonp2bit-tile-generator"]=this["webpackJsonp2bit-tile-generator"]||[]).push([[0],{14:function(e,t,a){"use strict";a.d(t,"d",(function(){return r})),a.d(t,"c",(function(){return n})),a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return s})),a.d(t,"e",(function(){return o})),a.d(t,"f",(function(){return l})),a.d(t,"h",(function(){return c})),a.d(t,"g",(function(){return u})),a.d(t,"i",(function(){return d}));var r=16,n=16,i=["block","brick","bridge","plant","door","grass","hole","ladder","lava","lockdoor","rock","sand","stairs","tile","water"],s="block",o={grass:3,water:2,lava:3,rock:3,brick:2,hole:0,plant:3,block:3,sand:0,bridge:0,ladder:0,stairs:0,tile:3,door:3,lockdoor:3},l={grass:"Grass",water:"Water",lava:"Lava",block:"Block",brick:"Brick Wall",rock:"Rock",hole:"Hole / Gap",plant:"Bush",sand:"Sand",bridge:"Bridge",ladder:"Ladder",stairs:"Stairs",tile:"Tile",door:"Door",lockdoor:"Locked Door"},c={grass:["grass","grass","grass","grass","grass","grass","grass","grass","grass"],water:["water","water","water","water","water","water","water","water","water"],lava:["sand","lava","lava","sand","lava","lava","sand","lava","lava"],block:["block","block","block","block","grass","grass","block","grass","grass"],brick:["brick","brick","brick","brick","brick","brick","grass","grass","grass"],rock:["sand","sand","sand","rock","rock","rock","sand","sand","sand"],hole:["sand","sand","sand","sand","hole","sand","sand","sand","sand"],plant:["grass","grass","grass","grass","plant","grass","grass","grass","grass"],sand:["sand","sand","sand","sand","sand","sand","sand","sand","sand"],bridge:["water","water","water","bridge","bridge","bridge","water","water","water"],ladder:["rock","ladder","rock","rock","ladder","rock","grass","grass","grass"],stairs:["grass","grass","grass","grass","stairs","grass","grass","grass","grass"],tile:["tile","tile","tile","tile","tile","tile","tile","tile","tile"],door:["tile","tile","tile","brick","door","brick","grass","grass","grass"],lockdoor:["tile","tile","tile","brick","lockdoor","brick","grass","grass","grass"]},u={grass:[{name:"Palette",type:"palette",defaultValue:"NES Default Green"},{name:"Short Blades",min:0,max:10,type:"range",defaultValue:1},{name:"Tall Blades",min:0,max:10,type:"range",defaultValue:0},{name:"Triangles",min:0,max:8,type:"range",defaultValue:4}],water:[{name:"Palette",type:"palette",defaultValue:"NES Default Blue"},{name:"Lines",min:2,max:4,type:"range"},{name:"Deeper Areas",min:0,max:3,type:"range",disabled:!0,defaultValue:0}],lava:[{name:"Palette",type:"palette",defaultValue:"NES Default Red"},{name:"Frequency",min:15,max:25,type:"range"},{name:"Offset",min:0,max:15,type:"range"},{name:"Wave Width",min:4,max:8,type:"range"}],rock:[{name:"Palette",type:"palette",defaultValue:"NES Default Yellow"},{name:"Rock Size",min:3,max:7,type:"range"},{name:"Rock Color",type:"color",defaultValue:2},{name:"Rock Highlight Color",type:"color",defaultValue:3}],brick:[{name:"Palette",type:"palette",defaultValue:"NES Default Red"},{name:"Brick Width",min:5,max:12,type:"range"},{name:"Brick Height",min:2,max:12,type:"range"},{name:"Brick Color",type:"color",defaultValue:2}],block:[{name:"Palette",type:"palette",defaultValue:"NES Default Red"},{name:"Height",min:4,max:8,type:"range"}],tile:[{name:"Palette",type:"palette",defaultValue:"NES Default Red"},{name:"Height",min:2,max:3,type:"range"}],hole:[{name:"Palette",type:"palette",defaultValue:"NES Default Yellow"},{name:"Hole Size",min:6,max:14,type:"range",step:2},{name:"Fuzz Area",min:1,max:2,type:"range",defaultValue:1}],plant:[{name:"Palette",type:"palette",defaultValue:"NES Default Green"},{name:"Bush Size",min:3,max:6,type:"range"},{name:"Bush Color",type:"color",defaultValue:2},{name:"Freckle Color",type:"color",defaultValue:1},{name:"Freckle Count",min:2,max:8,type:"range"},{name:"Freckle Size",min:1,max:2,type:"range",defaultValue:1}],sand:[{name:"Palette",type:"palette",defaultValue:"NES Default Yellow"},{name:"Frequency",min:15,max:75,type:"range"},{name:"Offset",min:0,max:15,type:"range"},{name:"Wave Width",min:3,max:12,type:"range"}],bridge:[{name:"Palette",type:"palette",defaultValue:"NES Default Red"},{name:"Board Width",min:3,max:9,type:"range",step:2,defaultValue:7},{name:"Border Width",min:0,max:2,type:"range",defaultValue:1},{name:"Board Color",type:"color",defaultValue:1},{name:"Separator Color",type:"color",defaultValue:0}],ladder:[{name:"Palette",type:"palette",defaultValue:"NES Default Blue"},{name:"Step Width",min:3,max:9,type:"range",step:2,defaultValue:3},{name:"Border Width",min:0,max:2,type:"range",defaultValue:1},{name:"Step Color",type:"color",defaultValue:3},{name:"Separator Color",type:"color",defaultValue:1}],stairs:[{name:"Palette",type:"palette",defaultValue:"NES Default Red"},{name:"Step Width",min:3,max:9,type:"range",step:2,defaultValue:7},{name:"Step Height",min:1,max:3,type:"range"},{name:"Border Width",min:0,max:2,type:"range",defaultValue:1},{name:"Step Color",type:"color",defaultValue:1},{name:"Separator Color",type:"color",defaultValue:0}],door:[{name:"Palette",type:"palette",defaultValue:"NES Default Yellow"},{name:"Panel Width",min:3,max:8,type:"range",step:1},{name:"Knob Width",min:0,max:2,type:"range",step:1,defaultValue:1},{name:"Door Color",type:"color",defaultValue:3},{name:"Knob Color",type:"color",defaultValue:1}],lockdoor:[{name:"Palette",type:"palette",defaultValue:"NES Default Yellow"},{name:"Panel Width",min:4,max:8,type:"range",step:4},{name:"Lock Width",min:3,max:5,type:"range",step:2,defaultValue:5},{name:"Door Color",type:"color",defaultValue:3},{name:"Lock Color",type:"color",defaultValue:1}]},d=["brick","brick","ladder","brick","grass","grass","grass","block","tile","tile","tile","tile","grass","grass","grass","grass","grass","plant","plant","block","tile","tile","stairs","tile","grass","grass","plant","plant","grass","plant","plant","block","tile","tile","tile","tile","grass","grass","grass","grass","grass","grass","grass","block","lockdoor","block","door","block","grass","grass","grass","grass","grass","grass","grass","grass","grass","grass","grass","grass","grass","grass","grass","grass","grass","grass","grass","grass","grass","grass","grass","grass","grass","grass","grass","grass","grass","grass","grass","grass","grass","grass","grass","grass","sand","sand","sand","sand","grass","grass","grass","grass","grass","grass","grass","grass","water","water","water","sand","sand","grass","grass","grass","grass","grass","lava","lava","water","water","water","sand","sand","sand","grass","grass","grass","grass","lava","lava","bridge","bridge","bridge","sand","sand","sand","sand","hole","sand","sand","lava","lava","water","water","water","sand","rock","sand","sand","hole","sand","sand","lava","lava"]},140:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return w}));var r=a(18),n=a(2),i=a.n(n),s=a(10),o=a(4),l=a(5),c=a(8),u=a(9),d=a(145),p=a(36),h=a(44),f=a(146),m=a(13),b=a.n(m),g=a(49),x=a(29),v=a(3),w=(new TextDecoder("utf8"),function(t){Object(c.a)(n,t);var a=Object(u.a)(n);function n(e){var t;return Object(o.a)(this,n),(t=a.call(this,e)).state={},t}return Object(l.a)(n,[{key:"forceDownload",value:function(e,t){var a=document.createElement("a");a.href=e,a.download=t,a.click()}},{key:"downloadAll",value:function(){var e=Object(s.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.generateFullSet(this.props.tileImages);case 2:t=e.sent,this.forceDownload(t,"Tileset.png");case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"downloadBin",value:function(){var t=Object(s.a)(i.a.mark((function t(a){var r,n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.a.generateNesPatternTables(this.props.tileImages,this.props.tileProps,a);case 2:r=t.sent,n="data:application/octet-stream;base64,"+e.from(r).toString("base64"),this.forceDownload(n,"2bit-tile-generator.chr");case 5:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"downloadPalette",value:function(){var t=Object(s.a)(i.a.mark((function t(){var a,n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=new Uint8Array([].concat(Object(r.a)(x.c["NES Default Blue"]),Object(r.a)(x.c["NES Default Red"]),Object(r.a)(x.c["NES Default Green"]),Object(r.a)(x.c["NES Default Yellow"]))),n="data:application/octet-stream;base64,"+e.from(a).toString("base64"),this.forceDownload(n,"2bit-tile-generator.pal");case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(v.jsx)("span",{children:Object(v.jsxs)(d.a,{children:[Object(v.jsx)(h.a,{caret:!0,slot:"trigger",children:"Download"}),Object(v.jsxs)(f.a,{children:[Object(v.jsx)(p.a,{title:"Download a single png file with all tiles",onClick:function(){return e.downloadAll()},children:"Download Tile Strip (.png)"}),Object(v.jsx)(p.a,{title:"Download NES binary data, with tile data organized linearly (for games, nesst, etc)",onClick:function(){return e.downloadBin(!1)},children:"Download linear binary format (.chr)"}),Object(v.jsx)(p.a,{title:"Download NES binary data, with all tiles organized visually into 16x16 tiles (for games, nesst, etc)",onClick:function(){return e.downloadBin(!0)},children:"Download organized binary format (.chr)"}),Object(v.jsx)(p.a,{title:"Download Default NES Palette file (games, nesst, etc)",onClick:function(){return e.downloadPalette()},children:"Download binary palette (.pal)"})]})]})})}}]),n}(b.a.Component))}).call(this,a(11).Buffer)},151:function(e,t,a){},180:function(e,t){},182:function(e,t){},29:function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"d",(function(){return n})),a.d(t,"c",(function(){return i})),a.d(t,"b",(function(){return s}));var r=["Gameboy","NES Default Red","NES Default Blue","NES Default Green","NES Default Yellow"],n={Gameboy:[255,2155905279,3233857791,4294967295],"NES Default Blue":[255,36863,1149829119,2580348927],"NES Default Red":[255,1426063615,2570256639,3714467071],"NES Default Green":[255,288555263,862322943,2008744191],"NES Default Yellow":[255,1717960959,3148480767,4007495935]},i={Gameboy:[15,0,16,48],"NES Default Blue":[15,1,33,49],"NES Default Red":[15,6,22,38],"NES Default Green":[15,9,25,41],"NES Default Yellow":[15,8,24,40]},s=function(e){return"string"===typeof e?n[e]:n[r[e]]}},298:function(e,t,a){},299:function(e,t,a){},301:function(e,t,a){},302:function(e,t,a){},303:function(e,t,a){},304:function(e,t,a){},305:function(e,t,a){"use strict";a.r(t);var r=a(13),n=a.n(r),i=a(139),s=a.n(i),o=(a(151),a(43)),l=a(32),c=a(2),u=a.n(c),d=a(10),p=a(4),h=a(5),f=a(8),m=a(9),b=(a(152),a(44)),g=a(76),x=a(36),v=a(54),w=a(49),j=(a(298),a(142)),k=a(143),y=a(144),O=a(29),P=(a(299),a(3)),C=function(e){Object(f.a)(a,e);var t=Object(m.a)(a);function a(){return Object(p.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){return Object(P.jsx)("div",{className:"palette-color-preview",style:{backgroundColor:"#"+this.props.color}})}}]),a}(n.a.Component),S=(a(301),function(e){Object(f.a)(a,e);var t=Object(m.a)(a);function a(){return Object(p.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){return Object(P.jsx)("div",{className:"palette-preview",children:this.props.palette.map((function(e){return Object(P.jsx)(C,{color:e.toString(16).padStart(8,"0")},"prev-"+e)}))})}}]),a}(n.a.Component)),T=function(e){Object(f.a)(a,e);var t=Object(m.a)(a);function a(e){var r;return Object(p.a)(this,a),(r=t.call(this,e)).setting=null,r.state=null,r.tileTypeId=null,r.updateTileState=function(){},r.state=e.state,r.reloadFromProps(e),r}return Object(h.a)(a,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.reloadFromProps(e),this.setState(e.state)}},{key:"reloadFromProps",value:function(e){this.setting=e.setting,this.tileTypeId=e.tileTypeId,this.updateTileState=function(t,a,r){e.updateTileState(t,a,r)}}},{key:"render",value:function(){var e=this,t=this.setting;if(t.disabled||null===t)return Object(P.jsx)("span",{},"disabled-setting-"+t.type+t.name);switch(t.type){case"range":return Object(P.jsxs)("div",{className:"tile-option",children:[Object(P.jsx)(y.a,{min:t.min,max:t.max,step:t.step||1,label:t.name,value:this.state.tileProps[this.tileTypeId][t.name],onSlChange:function(a){return e.updateTileState(e.tileTypeId,t.name,a.target.value)}},this.tileTypeId+t.name),Object(P.jsxs)("div",{className:"below-range",children:[Object(P.jsx)("small",{className:"left",children:t.min}),Object(P.jsxs)("small",{className:"mid",children:["Current: ",this.state.tileProps[this.tileTypeId][t.name]]}),Object(P.jsx)("small",{className:"right",children:t.max})]})]},"range-"+t.type+t.name);case"color":return Object(P.jsx)("div",{className:"tile-option",children:Object(P.jsx)(k.a,{label:t.name,children:[0,1,2,3].map((function(a){return Object(P.jsxs)(j.a,{value:a,checked:e.state.tileProps[e.tileTypeId][t.name]===a,onSlChange:function(r){return r.target.checked?e.updateTileState(e.tileTypeId,t.name,a):null},children:["Color ",a+1,Object(P.jsx)(C,{color:Object(O.b)(e.state.tileProps[e.tileTypeId].Palette)[a].toString(16).padStart(8,"0")})]},"palette-color"+t.type+t.name+"-"+a)}))})},"palette-"+t.type+t.name);case"palette":return Object(P.jsx)("div",{className:"tile-option",children:Object(P.jsx)(g.a,{label:"Palette Color",value:this.state.tileProps[this.tileTypeId][t.name],onSlChange:function(a){return e.updateTileState(e.tileTypeId,t.name,a.target.value)},children:O.a.map((function(e){return Object(P.jsxs)(x.a,{value:e,children:[e," ",Object(P.jsx)(S,{palette:Object(O.b)(e)})]},e)}))})},"palette-"+t.type+t.name);default:return console.error('Unknown tile option type "'.concat(t.type,'" found!'),t),Object(P.jsx)("span",{})}}}]),a}(n.a.Component),B=(a(302),a(14)),D=function(e){Object(f.a)(a,e);var t=Object(m.a)(a);function a(){return Object(p.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){var e=this,t=B.h[this.props.tileId].map((function(t){return e.props.tileImages[t]}));return Object(P.jsx)("div",{className:"tile-preview-collection",children:t.map((function(e,t){return Object(P.jsx)("img",{alt:"",src:e},"preview-"+t)}))})}}]),a}(n.a.Component),I=a(141),M=(a(303),function(e){Object(f.a)(a,e);var t=Object(m.a)(a);function a(e){var r;return Object(p.a)(this,a),(r=t.call(this,e)).imageRef=n.a.createRef(),r.state={mapImage:null},r}return Object(h.a)(a,[{key:"showDialog",value:function(){var e=Object(d.a)(u.a.mark((function e(){var t,a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.generateMapPreview(this.props.tileImages);case 2:r=e.sent,this.setState({mapImage:r}),null===(t=this.imageRef)||void 0===t||null===(a=t.current)||void 0===a||a.show();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(P.jsxs)("span",{children:[Object(P.jsx)(v.a,{content:"Show a preview image using all of the tiles",children:Object(P.jsx)(b.a,{onClick:function(){return e.showDialog()},children:"Preview as map"})}),Object(P.jsx)(I.a,{label:"Map Preview",ref:this.imageRef,className:"map-preview-dialog",children:Object(P.jsx)("img",{alt:"Map Preview",src:this.state.mapImage})})]})}}]),a}(n.a.Component)),N=a(140),W=(a(304),function(e){Object(f.a)(a,e);var t=Object(m.a)(a);function a(e){var r;Object(p.a)(this,a),(r=t.call(this,e)).state={tileType:B.b,tileProps:{},palette:Object(O.b)(0),currentTileImg:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",builtTileImages:{}},B.a.forEach((function(e){r.state.tileProps[e]={},B.g[e].forEach((function(t){if(void 0!==t.defaultValue)r.state.tileProps[e][t.name]=t.defaultValue;else if(void 0!==t.min&&void 0!==t.max){var a=Math.floor(Math.random()*(t.max-t.min+1))+t.min;t.step&&(a-=a%t.step),r.state.tileProps[e][t.name]=a}})),r.state.builtTileImages[e]=null}));try{var n=localStorage.getItem("2bit-tile-generator__tileType");null!==n&&(r.state.tileType=n)}catch(i){console.info("Failed getting information from localStorage, sticking to default",i)}return r}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=0;case 1:if(!(t<B.a.length)){e.next=7;break}return e.next=4,this.generateTileImage(B.a[t],!1);case 4:t++,e.next=1;break;case 7:this.reloadImage();case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"reRandomize",value:function(){var e=this,t={tileProps:Object(l.a)({},this.state.tileProps)};B.a.forEach((function(a){t.tileProps[a]=Object(l.a)({},e.state.tileProps[a]),B.g[a].forEach((function(e){if(!e.disabled&&void 0!==e.min&&void 0!==e.max){var r=Math.floor(Math.random()*(e.max-e.min+1))+e.min;e.step&&(r-=r%e.step),t.tileProps[a][e.name]=r}}))})),this.setState(t,this.reloadImage)}},{key:"generateTileImage",value:function(){var e=Object(d.a)(u.a.mark((function e(t){var a,r,n,i=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=i.length>1&&void 0!==i[1]&&i[1],r=this.state.palette,this.state.tileProps[t].Palette&&(r=Object(O.b)(this.state.tileProps[t].Palette)),null!==this.state.builtTileImages[t]&&!a){e.next=9;break}return e.next=6,w.a.generateImage(t,this.state.tileProps[t],r);case 6:return n=e.sent,this.setState({builtTileImages:Object(l.a)(Object(l.a)({},this.state.builtTileImages),{},Object(o.a)({},t,n))}),e.abrupt("return",n);case 9:return e.abrupt("return",this.state.builtTileImages[t]);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getCurrentTileImage",value:function(){var e=Object(d.a)(u.a.mark((function e(){var t,a=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]&&a[0],e.next=3,this.generateTileImage(this.state.tileType,t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"reloadImage",value:function(){var e=Object(d.a)(u.a.mark((function e(){var t,a=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!(a.length>0&&void 0!==a[0])||a[0],e.t0=this,e.next=4,this.getCurrentTileImage(t);case 4:e.t1=e.sent,e.t2={currentTileImg:e.t1},e.t0.setState.call(e.t0,e.t2);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateTileType",value:function(e){var t=this;this.setState({tileType:e.target.value},(function(){return t.reloadImage(!1)})),localStorage.setItem("2bit-tile-generator__tileType",e.target.value)}},{key:"updateTileState",value:function(e,t,a){this.state.tileProps[e][t]!==a&&this.setState({tileProps:Object(l.a)(Object(l.a)({},this.state.tileProps),{},Object(o.a)({},e,Object(l.a)(Object(l.a)({},this.state.tileProps[e]),{},Object(o.a)({},t,a))))},this.reloadImage)}},{key:"render",value:function(){var e=this;return Object(P.jsxs)("div",{className:"App",children:[Object(P.jsx)("header",{className:"App-header",children:Object(P.jsx)("h1",{children:"2Bit Tile Generator"})}),Object(P.jsxs)("section",{children:[Object(P.jsxs)("div",{className:"control-bar",children:[Object(P.jsx)(M,{tileImages:this.state.builtTileImages}),Object(P.jsx)(N.a,{tileImages:this.state.builtTileImages,tileProps:this.state.tileProps}),Object(P.jsx)(v.a,{content:"Randomize the settings for all tiles.",children:Object(P.jsx)(b.a,{onClick:function(){return e.reRandomize()},children:"Randomize Settings"})}),Object(P.jsx)(v.a,{content:"Regenerate tile image with the current settings",children:Object(P.jsx)(b.a,{onClick:function(){return e.reloadImage(!0)},children:"Regenerate"})})]}),Object(P.jsxs)("div",{className:"configurator",children:[Object(P.jsxs)("div",{className:"left",children:[Object(P.jsx)("h3",{children:"Tile Preview"}),Object(P.jsx)("h4",{children:"Single"}),Object(P.jsx)("img",{className:"tile-preview",alt:"Tile Preview",src:this.state.currentTileImg}),Object(P.jsx)("h4",{children:"Tiled"}),Object(P.jsx)(D,{tileId:this.state.tileType,tileImages:this.state.builtTileImages}),Object(P.jsx)("div",{className:"dl-bar",children:Object(P.jsx)(b.a,{href:this.state.currentTileImg,download:this.state.tileType+".png",children:"Download"})})]}),Object(P.jsxs)("div",{className:"right",children:[Object(P.jsx)("h3",{children:"Tile Configuration"}),Object(P.jsx)("div",{className:"tile-option",children:Object(P.jsx)(g.a,{label:"Tile Type",value:this.state.tileType,onSlChange:function(t){return e.updateTileType(t)},className:"tile-type-select",children:B.a.map((function(t){return Object(P.jsxs)(x.a,{value:t,children:[B.f[t]," ",Object(P.jsx)("img",{alt:"",slot:"suffix",src:e.state.builtTileImages[t]})," "]},t)}))})}),B.g[this.state.tileType].map((function(t){return Object(P.jsx)(T,{setting:t,state:e.state,tileTypeId:e.state.tileType,updateTileState:function(t,a,r){return e.updateTileState(t,a,r)}},e.state.tileType+t.name)}))]})]})]}),Object(P.jsxs)("footer",{children:[Object(P.jsxs)("p",{children:["Heavily inspired by ",Object(P.jsx)("a",{href:"https://0x72.itch.io/2bitcharactergenerator",target:"_blank",children:"0x72's 2BitCharactersGenerator"}),". UI powered by ",Object(P.jsx)("a",{href:"https://shoelace.style/",target:"_blank",children:"Shoelace"}),"."]}),Object(P.jsxs)("p",{children:["All images generated by this tool are free for use. (CC0) Tool available under the MIT license. (",Object(P.jsx)("a",{href:"https://github.com/cppchriscpp/2bit-tile-generator",target:"_blank",children:"Source"})," \u2022 "," ",Object(P.jsx)("a",{href:"https://github.com/cppchriscpp/2bit-tile-generator/issues",target:"_blank",children:"Feature Requests"}),")"]}),Object(P.jsxs)("p",{children:["There is no requirement to credit me, but please consider tweeting me if you find this useful! "," ",Object(P.jsx)("a",{href:"https://twitter.com/cppchriscpp",target:"_blank",children:"@cppchriscpp"})]}),Object(P.jsxs)("p",{children:["Wanna see the other stuff I do? Check out ",Object(P.jsx)("a",{href:"https://cpprograms.net",target:"_blank",children:"cpprograms.net"}),"."]}),Object(P.jsx)(v.a,{content:"Click for changelog",children:Object(P.jsxs)("a",{className:"version",href:"https://github.com/cppchriscpp/2bit-tile-generator/blob/main/CHANGELOG.md",target:"_blank",children:["version ","1.2.2"]})})]})]})}}]),a}(n.a.Component)),A=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,306)).then((function(t){var a=t.getCLS,r=t.getFID,n=t.getFCP,i=t.getLCP,s=t.getTTFB;a(e),r(e),n(e),i(e),s(e)}))};s.a.render(Object(P.jsx)(n.a.StrictMode,{children:Object(P.jsx)(W,{})}),document.getElementById("root")),A()},49:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return m}));var r=a(18),n=a(2),i=a.n(n),s=a(10),o=a(4),l=a(5),c=a(55),u=a.n(c),d=a(29),p=a(14);function h(e,t){return(e%t+t)%t}function f(e){return{x:Math.floor(Math.random()*e.bitmap.width),y:Math.floor(Math.random()*e.bitmap.height)}}var m=function(){function t(){Object(o.a)(this,t)}return Object(l.a)(t,null,[{key:"generateImage",value:function(e,a,r){return new Promise((function(n,o){new u.a(p.d,p.c,r[p.e[e]],function(){var l=Object(s.a)(i.a.mark((function s(l,c){return i.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:l&&o(l),i.t0=e,i.next="grass"===i.t0?4:"water"===i.t0?7:"brick"===i.t0?10:"tile"===i.t0||"block"===i.t0?13:"hole"===i.t0?16:"plant"===i.t0?19:"rock"===i.t0?22:"lava"===i.t0?25:"sand"===i.t0?28:"bridge"===i.t0?31:"ladder"===i.t0?34:"stairs"===i.t0?37:"door"===i.t0?40:"lockdoor"===i.t0?43:46;break;case 4:return i.next=6,t.drawGrass(c,a,r);case 6:return i.abrupt("break",47);case 7:return i.next=9,t.drawWater(c,a,r);case 9:return i.abrupt("break",47);case 10:return i.next=12,t.drawBrick(c,a,r);case 12:return i.abrupt("break",47);case 13:return i.next=15,t.drawBlock(c,a,r);case 15:return i.abrupt("break",47);case 16:return i.next=18,t.drawHole(c,a,r);case 18:return i.abrupt("break",47);case 19:return i.next=21,t.drawPlant(c,a,r);case 21:return i.abrupt("break",47);case 22:return i.next=24,t.drawRock(c,a,r);case 24:return i.abrupt("break",47);case 25:return i.next=27,t.drawLava(c,a,r);case 27:return i.abrupt("break",47);case 28:return i.next=30,t.drawSand(c,a,r);case 30:return i.abrupt("break",47);case 31:return i.next=33,t.drawBridge(c,a,r);case 33:return i.abrupt("break",47);case 34:return i.next=36,t.drawLadder(c,a,r);case 36:return i.abrupt("break",47);case 37:return i.next=39,t.drawStairs(c,a,r);case 39:return i.abrupt("break",47);case 40:return i.next=42,t.drawDoor(c,a,r);case 42:return i.abrupt("break",47);case 43:return i.next=45,t.drawLockedDoor(c,a,r);case 45:return i.abrupt("break",47);case 46:console.warn("Unimplemented tile type given!",e,"blank image ahoy");case 47:c.getBase64Async("image/png").then(n,o);case 48:case"end":return i.stop()}}),s)})));return function(e,t){return l.apply(this,arguments)}}())}))}},{key:"drawGrass",value:function(e,t,a){for(var r=0;r<t["Short Blades"];r++){var n=f(e),i=n.x,s=n.y;e.setPixelColor(a[2],i,s)}for(var o=0;o<t["Tall Blades"];o++){var l=f(e),c=l.x,u=l.y;e.setPixelColor(a[2],c,u),e.setPixelColor(a[2],c,0===u?e.bitmap.height-1:u-1)}for(var d=0;d<t.Triangles;d++){var p=f(e),h=p.x,m=p.y;e.setPixelColor(a[2],h>0?h-1:e.bitmap.width-1,m),e.setPixelColor(a[2],h<e.bitmap.width-1?h+1:0,m),e.setPixelColor(a[2],h,m>0?m-1:e.bitmap.height-1)}}},{key:"drawWater",value:function(e,t,a){for(var r=function(t){var r=f(e),n=r.x,i=r.y,s=Math.floor(4*Math.random())+3;e.scan(0,0,e.bitmap.width,e.bitmap.height,(function(t,r,o){var l=n-t,c=i-r;l*l+c*c<=s*s&&e.setPixelColor(a[1],t,r)}))},n=0;n<t["Deeper Areas"];n++)r();for(var i=0;i<t.Lines;i++){var s=f(e),o=s.x,l=s.y,c=1===Math.floor(2*Math.random())?1:-1,u=1===Math.floor(2*Math.random())?1:-1,d=o,p=l;for(e.setPixelColor(a[3],d,p),d=h(d+c,e.bitmap.width),p=h(p+u,e.bitmap.height);d!==o&&p!==l;)e.setPixelColor(a[3],d,p),Math.random()>.3&&(d=h(d+c,e.bitmap.width)),Math.random()>.3&&(p=h(p+u,e.bitmap.height));e.setPixelColor(a[3],d,p)}}},{key:"drawBrick",value:function(e,t,a){for(var r=[],n=[],i=0;i<e.bitmap.width;i++)0===h(i+1,t["Brick Width"]+1)?r.push(i):0===h(i+1+Math.floor(t["Brick Width"]/2),t["Brick Width"]+1)&&n.push(i);var s=0;e.scan(0,0,e.bitmap.width,e.bitmap.height,(function(i,o,l){e.setPixelColor(a[t["Brick Color"]],i,o),o%(t["Brick Height"]+1)===0&&(e.setPixelColor(a[0],i,o),0===i&&++s),s%2===0?-1!==r.indexOf(i)&&e.setPixelColor(a[0],i,o):-1!==n.indexOf(i)&&e.setPixelColor(a[0],i,o)}))}},{key:"drawBlock",value:function(e,t,a){e.scan(0,0,e.bitmap.width,e.bitmap.height,(function(r,n){var i=2*(10-t.Height);e.setPixelColor(r>e.bitmap.height-n-1?a[1]:a[3],r,n),r===n?e.setPixelColor(a[2],r,n):r===e.bitmap.height-n-1&&e.setPixelColor(a[1],r,n);var s=e.bitmap.height/2-i/2;r>s&&r<s+i-1&&n>s&&n<s+i-1&&e.setPixelColor(a[2],r,n)}))}},{key:"drawHole",value:function(e,t,a){var r=Math.floor(e.bitmap.width/2-t["Hole Size"]/2),n=t["Fuzz Area"];e.scan(0,0,e.bitmap.width,e.bitmap.height,(function(i,s){if(i<r||i>e.bitmap.width-1-r||s<r||s>e.bitmap.height-1-r){if((i>=r-n&&i<r&&s>r&&s<e.bitmap.height-1-r||i>=r+t["Hole Size"]&&i<r+t["Hole Size"]+n&&s>r&&s<e.bitmap.height-1-r||s>=r-n&&s<r&&i>r&&i<e.bitmap.width-1-r||s>=r+t["Hole Size"]&&s<r+t["Hole Size"]+n&&i>r&&i<e.bitmap.width-1-r)&&Math.random()>.35)return;e.setPixelColor(a[2],i,s)}}))}},{key:"drawPlant",value:function(e,t,a){for(var r,n,i,s=t["Bush Size"],o=10-Math.floor(t["Bush Size"]/2),l=0;l<360;l++)r=l,n=s*Math.cos(r*Math.PI/180),i=s*Math.sin(r*Math.PI/180),e.setPixelColor(a[0],Math.round(8+n),Math.round(o+i));for(var c=0;c<e.bitmap.height;c++)for(var u=!1,d=!1,p=!1,h=0,f=0;f<e.bitmap.width;f++)e.getPixelColor(f,c)===a[0]?(h++,u?d&&(p=!0):u=!0):(u&&e.getPixelColor(f,c)===a[3]&&(d=!0),d&&!p&&h<5&&e.setPixelColor(a[t["Bush Color"]],f,c));for(var m=8-Math.floor(s/2)+1;m<8+s+1;m++)e.setPixelColor(a[0],m,o+s+1),m<8+s&&e.setPixelColor(a[0],m,o+s);var b=0;for(l=0;l<100&&!(b>=t["Freckle Count"]);l++){var g=Math.floor(Math.random()*e.bitmap.width),x=Math.floor(Math.random()*e.bitmap.height);e.getPixelColor(g,x)===a[t["Bush Color"]]&&(b++,e.setPixelColor(a[t["Freckle Color"]],g,x),t["Freckle Size"]>1&&[[g-1,x],[g+1,x],[g,x-1],[g,x+1]].forEach((function(r){var n=r[0],i=r[1];e.getPixelColor(n,i)===a[t["Bush Color"]]&&e.setPixelColor(a[t["Freckle Color"]],n,i)})))}}},{key:"drawRock",value:function(){var e=Object(s.a)(i.a.mark((function e(t,a,r){var n,s,o,l,c,d,p,h,f,m,b,g,x;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.read(t);case 2:for(n=e.sent,s=a["Rock Size"],8,o=n.bitmap.height-(a["Rock Size"]-2),p=0;p<360;p++)l=p,c=s*Math.cos(l*Math.PI/180),d=s*Math.sin(l*Math.PI/180),n.setPixelColor(r[0],Math.round(8+c),Math.round(o+d));for(h=0;h<n.bitmap.height;h++)for(f=!1,m=!1,b=!1,g=0,x=0;x<n.bitmap.width;x++)n.getPixelColor(x,h)===r[0]?(g++,f?m&&(b=!0):f=!0):(f&&n.getPixelColor(x,h)===r[3]&&(m=!0),m&&!b&&g<5&&(x-h<s-Math.floor(s/1.2)?n.setPixelColor(r[a["Rock Color"]],x,h):n.setPixelColor(r[a["Rock Highlight Color"]],x,h)));return e.next=9,t.blit(n,0,-1-Math.floor(t.bitmap.height/2-a["Rock Size"]));case 9:case"end":return e.stop()}}),e)})));return function(t,a,r){return e.apply(this,arguments)}}()},{key:"drawLava",value:function(){var e=Object(s.a)(i.a.mark((function e(t,a,r){var n,s,o,l,c,u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=a.Frequency/100,s=a.Offset,o=a["Wave Width"],l=0;l<t.bitmap.width;l++){for(c=Math.sin(n*(Math.abs(l-s)%t.bitmap.width))*Math.floor(t.bitmap.height/3);c<t.bitmap.width;)t.setPixelColor(4278255615,c,l),c+=o;for(u=1,c=0;c<t.bitmap.width;c++)4278255615===t.getPixelColor(c,l)&&(u=1+(u+1)%3),t.setPixelColor(r[u],c,l)}case 2:case"end":return e.stop()}}),e)})));return function(t,a,r){return e.apply(this,arguments)}}()},{key:"drawSand",value:function(){var e=Object(s.a)(i.a.mark((function e(t,a,r){var n,s,o,l,c,u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=a.Frequency/100,s=a.Offset,o=a["Wave Width"],l=0;l<t.bitmap.width;l++){for(c=Math.sin(n*(Math.abs(l-s)%t.bitmap.width))*Math.floor(t.bitmap.height/3);c<t.bitmap.width;)t.setPixelColor(4278255615,c,l),c+=o;for(u=2,c=0;c<t.bitmap.width;c++)4278255615===t.getPixelColor(c,l)&&(u=2+(u+1)%2),t.setPixelColor(r[u],c,l)}case 2:case"end":return e.stop()}}),e)})));return function(t,a,r){return e.apply(this,arguments)}}()},{key:"drawBridge",value:function(){var e=Object(s.a)(i.a.mark((function e(t,a,r){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.scan(0,0,t.bitmap.width,t.bitmap.height,(function(e,n){e%(a["Board Width"]+1)===0||n<a["Border Width"]||n>t.bitmap.width-a["Border Width"]-1?t.setPixelColor(r[a["Separator Color"]],e,n):t.setPixelColor(r[a["Board Color"]],e,n)}));case 1:case"end":return e.stop()}}),e)})));return function(t,a,r){return e.apply(this,arguments)}}()},{key:"drawLadder",value:function(){var e=Object(s.a)(i.a.mark((function e(t,a,r){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.scan(0,0,t.bitmap.width,t.bitmap.height,(function(e,n){n%(a["Step Width"]+1)===0||e<a["Border Width"]||e>t.bitmap.width-a["Border Width"]-1?t.setPixelColor(r[a["Separator Color"]],e,n):t.setPixelColor(r[a["Step Color"]],e,n)}));case 1:case"end":return e.stop()}}),e)})));return function(t,a,r){return e.apply(this,arguments)}}()},{key:"drawBaseDoor",value:function(){var e=Object(s.a)(i.a.mark((function e(t,a,r){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.scan(0,0,t.bitmap.width,1,(function(e,a){return t.setPixelColor(r[0],e,a)})),t.scan(0,0,1,t.bitmap.height,(function(e,a){return t.setPixelColor(r[0],e,a)})),t.scan(t.bitmap.width-1,0,t.bitmap.width,t.bitmap.height,(function(e,a){return t.setPixelColor(r[0],e,a)})),t.scan(0,0,t.bitmap.width,t.bitmap.height,(function(e,n){e%a["Panel Width"]===0?t.setPixelColor(r[0],e,n):t.getPixelColor(e,n)!==r[0]&&t.setPixelColor(r[a["Door Color"]],e,n)}));case 4:case"end":return e.stop()}}),e)})));return function(t,a,r){return e.apply(this,arguments)}}()},{key:"drawDoor",value:function(){var e=Object(s.a)(i.a.mark((function e(t,a,r){var n,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.drawBaseDoor(t,a,r);case 2:n=Math.floor(t.bitmap.height/2-a["Knob Width"])+1,s=t.bitmap.width-3-Math.floor(a["Knob Width"]/2),t.scan(s,n,a["Knob Width"],a["Knob Width"],(function(e,n){return t.setPixelColor(r[a["Knob Color"]],e,n)}));case 5:case"end":return e.stop()}}),e,this)})));return function(t,a,r){return e.apply(this,arguments)}}()},{key:"drawLockedDoor",value:function(){var e=Object(s.a)(i.a.mark((function e(t,a,r){var n,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.drawBaseDoor(t,a,r);case 2:n=Math.floor(t.bitmap.height/2-4+1),s=Math.floor(t.bitmap.width/2)-Math.floor(a["Lock Width"]/2),t.scan(s+Math.floor(a["Lock Width"]/2),n,1,5===a["Lock Width"]?9:8,(function(e,n){return t.setPixelColor(r[a["Lock Color"]],e,n)})),t.scan(s,n,Math.floor(a["Lock Width"]/2),8,(function(e,n){(n<10||5===a["Lock Width"]&&7===e)&&t.setPixelColor(r[a["Lock Color"]],e,n)})),t.scan(s+1+Math.floor(a["Lock Width"]/2),n,Math.floor(a["Lock Width"]/2),8,(function(e,n){(n<10||5===a["Lock Width"]&&9===e)&&t.setPixelColor(r[a["Lock Color"]],e,n)}));case 7:case"end":return e.stop()}}),e,this)})));return function(t,a,r){return e.apply(this,arguments)}}()},{key:"drawStairs",value:function(){var e=Object(s.a)(i.a.mark((function e(t,a,r){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.scan(0,0,t.bitmap.width,t.bitmap.height,(function(e,n){var i=Math.floor((e-1)/a["Step Width"])*a["Step Height"];e%(a["Step Width"]+1)===0||n<a["Border Width"]+i||n>t.bitmap.width-a["Border Width"]-1?t.setPixelColor(r[a["Separator Color"]],e,n):t.setPixelColor(r[a["Step Color"]],e,n)}));case 1:case"end":return e.stop()}}),e)})));return function(t,a,r){return e.apply(this,arguments)}}()},{key:"imageFromBase64",value:function(){var t=Object(s.a)(i.a.mark((function t(a){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=a.substr(a.indexOf(",")+1),t.next=3,u.a.read(e.from(a,"base64"));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"generateFullSet",value:function(e){var t=this;return new Promise((function(a,r){new u.a(p.d*(p.a.length+1),p.c,4294967295,(function(n,o){n&&r(n),Object(s.a)(i.a.mark((function a(){var r,n;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:r=0;case 1:if(!(r<p.a.length)){a.next=10;break}return a.next=4,t.imageFromBase64(e[p.a[r]]);case 4:return n=a.sent,a.next=7,o.blit(n,(r+1)*p.d,0);case 7:r++,a.next=1;break;case 10:return a.abrupt("return",o.getBase64Async("image/png"));case 11:case"end":return a.stop()}}),a)})))().then(a,r)}))}))}},{key:"generateMapPreview",value:function(e){var t=this,a=Math.sqrt(p.i.length);return new Promise((function(r,n){new u.a(p.d*a,p.c*a,4294967295,(function(o,l){o&&n(o),Object(s.a)(i.a.mark((function r(){var n,s,o,c,u,d,h,f;return i.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:n={},s={},o=0;case 3:if(!(o<p.a.length)){r.next=13;break}return c=(c=e[p.a[o]]).substr(c.indexOf(",")+1),r.next=8,t.imageFromBase64(e[p.a[o]]);case 8:n[p.a[o]]=r.sent,s[p.a[o]]=!1;case 10:o++,r.next=3;break;case 13:for(u=0;u<a;u++)for(d=0;d<a;d++)h=d*a+u,l.blit(n[p.i[h]],u*p.d,d*p.c),s[p.i[h]]=!0;return(f=p.a.filter((function(e){return!s[e]}))).length>0&&console.warn("Some tiles were not included in the preview!",f.join(", ")),r.abrupt("return",l.getBase64Async("image/png"));case 17:case"end":return r.stop()}}),r)})))().then(r,n)}))}))}},{key:"generateNesPatternTables",value:function(){var e=Object(s.a)(i.a.mark((function e(t,a,n){var s,o,l,c,u,h,f,m,b,g,x,v=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=[],o=i.a.mark((function e(){var n,o,c,u,h,f,m,b,g,x,w,j,k,y,O,P,C;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=p.a[l],e.next=3,v.imageFromBase64(t[n]);case 3:for(o=e.sent,c=new Array(o.bitmap.width*o.bitmap.height),u=d.d[a[n].Palette],o.scan(0,0,o.bitmap.width,o.bitmap.height,(function(e,t){var a=o.getPixelColor(e,t);c[e+t*o.bitmap.width]=u.indexOf(a)})),h=c.map((function(e){return 1&e})),f=c.map((function(e){return(2&e)>>1})),m=[],b=[],g=[],x=[],w=[],j=[],k=[],y=[],O=0;O<4;O++)for(P=0;P<8;P++)for(0===O&&(m.push(0),b.push(0),w.push(0),k.push(0),g.push(0),x.push(0),j.push(0),y.push(0)),C=0;C<8;C++)0===O?(m[P]+=h[P*o.bitmap.width+C]<<7-C,g[P]+=f[P*o.bitmap.width+C]<<7-C):1===O?(b[P]+=h[P*o.bitmap.width+C+8]<<7-C,x[P]+=f[P*o.bitmap.width+C+8]<<7-C):2===O?(w[P]+=h[P*o.bitmap.width+C+128]<<7-C,j[P]+=f[P*o.bitmap.width+C+128]<<7-C):(k[P]+=h[P*o.bitmap.width+C+128+8]<<7-C,y[P]+=f[P*o.bitmap.width+C+128+8]<<7-C);s=[].concat(Object(r.a)(s),m,g,b,x,w,j,k,y);case 11:case"end":return e.stop()}}),e)})),l=0;case 3:if(!(l<p.a.length)){e.next=8;break}return e.delegateYield(o(),"t0",5);case 5:l++,e.next=3;break;case 8:if(s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].concat(Object(r.a)(s)),n){e.next=11;break}return e.abrupt("return",new Uint8Array(s));case 11:for(c=new Array(4096).fill(0),u=0;u<p.a.length+1;u++){for(h=u%8,f=Math.floor(u/8),m=512*f+16*h*2,b=4*u*16,g=0;g<32;g++)c[m+g]=s[b+g];for(x=0;x<32;x++)c[m+256+x]=s[b+x+32]}return e.abrupt("return",new Uint8Array(c));case 14:case"end":return e.stop()}}),e)})));return function(t,a,r){return e.apply(this,arguments)}}()}]),t}()}).call(this,a(11).Buffer)}},[[305,1,2]]]);
//# sourceMappingURL=main.5da08084.chunk.js.map